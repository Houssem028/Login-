<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ASH Window Cleaning</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<style>
body { margin:0; font-family:Arial,sans-serif; background:#f5f7fa; color:#333; transition:0.3s; }
header { background:#0a5cff; color:#fff; padding:20px; text-align:center; position:sticky; top:0; }
header h1 { margin:0; font-size:28px; }
.language-toggle { position:absolute; top:20px; right:20px; background:#fff; color:#0a5cff; border:none; padding:5px 10px; border-radius:6px; cursor:pointer; font-weight:bold; }
main { padding:40px 20px; max-width:900px; margin:auto; }
.hero { background:#fff; border-radius:10px; padding:30px; text-align:center; box-shadow:0 4px 10px rgba(0,0,0,0.08); margin-bottom:30px; }
.hero h2 { font-size:26px; margin-bottom:15px; }
.hero p { font-size:16px; line-height:1.6; margin-bottom:25px; }
.hero a.cta { background:#0a5cff; color:#fff; padding:14px 25px; border-radius:8px; text-decoration:none; font-size:16px; transition:0.3s; }
.hero a.cta:hover { background:#084dcc; }
.info { display:grid; gap:20px; margin-bottom:30px; }
.info div { background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.06); text-align:center; }
.rating-box { background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.08); max-width:500px; margin:30px auto; text-align:center; }
.rating-box input { width:100%; padding:10px; margin:10px 0; border-radius:8px; border:1px solid #ccc; font-size:14px; }
.rating-box button { background:#0a5cff; color:#fff; border:none; padding:12px 20px; border-radius:8px; font-size:16px; cursor:pointer; transition:0.3s; width:100%; }
.rating-box button:hover { background:#084dcc; }
.rating-box .stars span { font-size:24px; cursor:pointer; margin:0 3px; color:#555; transition:0.2s; }
.rating-box p { margin-top:10px; font-weight:bold; }
.bottom-bar { position:fixed; bottom:0; left:0; right:0; background:#fff; display:flex; justify-content:space-around; border-top:1px solid #e5e7eb; padding:8px 0; z-index:999; }
.bottom-bar a { text-decoration:none; color:#555; font-size:12px; display:flex; flex-direction:column; align-items:center; }
.bottom-bar a.active { color:#0a5cff; font-weight:bold; }
.bottom-bar a span { margin-top:2px; font-size:12px; }
</style>
</head>

<body>

<header>
  <h1 id="site-title">ASH Window Cleaning</h1>
  <button class="language-toggle" id="lang-btn">FR</button>
</header>

<main>
  <section class="hero">
    <h2 id="hero-title">Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ«Ù‚Ø©</h2>
    <p id="hero-text">
      Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ù„Ù„Ù…Ù†Ø§Ø²Ù„ØŒ Ø§Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø­Ø¯ÙŠØ«Ø© ÙˆÙ†ØªØ§Ø¦Ø¬ Ù…Ø¶Ù…ÙˆÙ†Ø©.
    </p>
    <a href="booking.html" class="cta" id="hero-cta">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</a>
  </section>

  <section class="info">
    <div>
      <h3 id="info-location">ğŸ“ Ù†Ø®Ø¯Ù…</h3>
      <p>Ø§Ù„Ù…Ù†Ø§Ø²Ù„ â€“ Ø§Ù„Ù…Ø­Ù„Ø§Øª â€“ Ø§Ù„Ù…ÙƒØ§ØªØ¨ â€“ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ©</p>
    </div>
    <div>
      <h3 id="info-contact">ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
      <p>ğŸ“± <a href="tel:+21624598941">+216 24 598 941</a><br>
         ğŸ“± <a href="tel:+21651084442">+216 51 084 442</a><br>
         ğŸ’¬ <a href="https://wa.me/21621477790" target="_blank">WhatsApp +216 21 477 790</a>
      </p>
    </div>
  </section>

  <section class="rating-box">
    <h3 id="rating-title">Ù‚ÙŠÙ‘Ù… Ø®Ø¯Ù…ØªÙ†Ø§</h3>
    <div class="stars" id="star-container">
      <span data-value="1">â­</span>
      <span data-value="2">â­</span>
      <span data-value="3">â­</span>
      <span data-value="4">â­</span>
      <span data-value="5">â­</span>
    </div>
    <input type="text" id="user-name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ">
    <input type="email" id="user-email" placeholder="Ø§ÙƒØªØ¨ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <button id="submit-rating" class="cta">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
    <p id="rating-msg"></p>
  </section>
</main>

<nav class="bottom-bar">
  <a href="index.html" class="active">ğŸ <span id="nav-home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
  <a href="booking.html">ğŸ“…<span id="nav-booking">Ø­Ø¬Ø²</span></a>
  <a href="login.html">ğŸ”’<span id="nav-admin">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</span></a>
</nav>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAJxzFknapSh0fnPfIXwEEK3OijSKlqxco",
  authDomain: "admin-ash-f622c.firebaseapp.com",
  databaseURL: "https://admin-ash-f622c-default-rtdb.firebaseio.com/",
  projectId: "admin-ash-f622c",
  storageBucket: "admin-ash-f622c.appspot.com",
  messagingSenderId: "76505742154",
  appId: "1:76505742154:web:dc4f190f9f2de80acb1fb3"
};
firebase.initializeApp(firebaseConfig);
const rdb = firebase.database();

// ===== Ø§Ù„Ù„ØºØ© =====
let lang = 'ar';
const langBtn = document.getElementById('lang-btn');
langBtn.addEventListener('click', () => {
  if(lang==='ar'){
    lang='fr';
    document.body.dir='ltr';
    langBtn.textContent = 'AR';
    document.getElementById('site-title').textContent = 'ASH Nettoyage de vitres';
    document.getElementById('hero-title').textContent = 'Nettoyage des vitres avec professionnalisme et confiance';
    document.getElementById('hero-text').textContent = 'Nous proposons des services de nettoyage de fenÃªtres et faÃ§ades pour maisons, magasins et bureaux avec du matÃ©riel moderne et des rÃ©sultats garantis.';
    document.getElementById('hero-cta').textContent = 'RÃ©server maintenant';
    document.getElementById('info-location').textContent = 'ğŸ“ Nous desservons';
    document.getElementById('info-contact').textContent = 'ğŸ“ Contactez-nous';
    document.getElementById('user-name').placeholder = 'Votre nom';
    document.getElementById('user-email').placeholder = 'Votre e-mail';
    document.getElementById('rating-title').textContent = 'Ã‰valuez notre service';
    document.getElementById('submit-rating').textContent = 'Envoyer l\'Ã©valuation';
    document.getElementById('nav-home').textContent = 'Accueil';
    document.getElementById('nav-booking').textContent = 'RÃ©servation';
    document.getElementById('nav-admin').textContent = 'Admin';
  } else {
    lang='ar';
    document.body.dir='rtl';
    langBtn.textContent = 'FR';
    document.getElementById('site-title').textContent = 'ASH Window Cleaning';
    document.getElementById('hero-title').textContent = 'Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ«Ù‚Ø©';
    document.getElementById('hero-text').textContent = 'Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ù„Ù„Ù…Ù†Ø§Ø²Ù„ØŒ Ø§Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø­Ø¯ÙŠØ«Ø© ÙˆÙ†ØªØ§Ø¦Ø¬ Ù…Ø¶Ù…ÙˆÙ†Ø©.';
    document.getElementById('hero-cta').textContent = 'Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†';
    document.getElementById('info-location').textContent = 'ğŸ“ Ù†Ø®Ø¯Ù…';
    document.getElementById('info-contact').textContent = 'ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§';
    document.getElementById('user-name').placeholder = 'Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ';
    document.getElementById('user-email').placeholder = 'Ø§ÙƒØªØ¨ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ';
    document.getElementById('rating-title').textContent = 'Ù‚ÙŠÙ‘Ù… Ø®Ø¯Ù…ØªÙ†Ø§';
    document.getElementById('submit-rating').textContent = 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…';
    document.getElementById('nav-home').textContent = 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©';
    document.getElementById('nav-booking').textContent = 'Ø­Ø¬Ø²';
    document.getElementById('nav-admin').textContent = 'Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©';
  }
});

// ===== Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª =====
let selectedRating = 0;
document.querySelectorAll('#star-container span').forEach(star => {
  star.addEventListener('click', () => {
    selectedRating = parseInt(star.dataset.value);
    document.querySelectorAll('#star-container span').forEach(s => {
      s.style.color = s.dataset.value <= selectedRating ? '#FFD700' : '#555';
    });
  });
});

document.getElementById('submit-rating').addEventListener('click', () => {
  const name = document.getElementById('user-name').value.trim();
  const email = document.getElementById('user-email').value.trim();

  if(!name || !email || selectedRating === 0){
    alert(lang==='ar' ? "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…" : "Veuillez remplir le nom, l'email et la note");
    return;
  }

  const ratingData = {
    name,
    email,
    rating: selectedRating,
    timestamp: Date.now()
  };

  rdb.ref('ratings').push(ratingData, error => {
    const msg = document.getElementById('rating-msg');
    if(error){
      msg.textContent = lang==='ar' ? "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„." : "Erreur lors de l'envoi.";
      msg.style.color = "red";
    } else {
      msg.textContent = lang==='ar' ? "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­!" : "Ã‰valuation envoyÃ©e avec succÃ¨s!";
      msg.style.color = "green";
      document.getElementById('user-name').value = '';
      document.getElementById('user-email').value = '';
      selectedRating = 0;
      document.querySelectorAll('#star-container span').forEach(s => s.style.color = '#555');
    }
  });
});
</script>

</body>
</html>
