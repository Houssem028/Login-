<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ASH Window Cleaning</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<style>
body { margin:0; font-family:Arial,sans-serif; background:#f5f7fa; color:#333; }
header { background:#0a5cff; color:#fff; padding:20px; text-align:center; }
header h1 { margin:0; font-size:28px; }
main { padding:40px 20px; max-width:900px; margin:auto; }

.hero { background:#fff; border-radius:10px; padding:30px; text-align:center; box-shadow:0 4px 10px rgba(0,0,0,0.08); }
.hero h2 { font-size:26px; margin-bottom:15px; }
.hero p { font-size:16px; line-height:1.6; margin-bottom:25px; }
.hero a.cta { background:#0a5cff; color:#fff; padding:14px 25px; border-radius:8px; font-size:16px; display:inline-block; text-decoration:none; }
.hero a.cta:hover { background:#084dcc; }

.info { margin-top:40px; display:grid; gap:20px; }
.info div { background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.06); }
.info h3 { margin-bottom:10px; }
.info a { color:#0a5cff; text-decoration:none; }
.info a:hover { text-decoration:underline; }

/* Ø§Ù„ØªÙ‚ÙŠÙŠÙ… */
.rating-box { background:#fff; padding:20px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.08); max-width:500px; margin:30px auto; text-align:center; }
.rating-box h3 { margin-bottom:15px; }
.rating-box .stars span { font-size:30px; cursor:pointer; margin:0 3px; transition:0.3s; }
.rating-box .stars span.active { color:#ffb400; transform:scale(1.2); }
.rating-box #rating-form { display:none; margin-top:15px; }
.rating-box input { width:100%; padding:10px; margin:5px 0; border-radius:8px; border:1px solid #ccc; }
.rating-box button { padding:12px; border:none; border-radius:8px; background:#0a5cff; color:white; font-size:16px; cursor:pointer; width:100%; margin-top:10px; }
.rating-box button:hover { background:#084dcc; }

.bottom-bar { position:fixed; bottom:0; left:0; right:0; background:#fff; display:flex; justify-content:space-around; border-top:1px solid #e5e7eb; padding:8px 0; z-index:999; }
.bottom-bar a { text-decoration:none; color:#555; font-size:12px; display:flex; flex-direction:column; align-items:center; }
.bottom-bar a span { margin-top:2px; }
.bottom-bar a.active { color:#0a5cff; font-weight:bold; }
</style>
</head>
<body>

<header>
  <h1>ASH Window Cleaning</h1>
</header>

<main>

<section class="hero">
  <h2>Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ«Ù‚Ø©</h2>
  <p>Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ù„Ù„Ù…Ù†Ø§Ø²Ù„ØŒ Ø§Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø­Ø¯ÙŠØ«Ø© ÙˆÙ†ØªØ§Ø¦Ø¬ Ù…Ø¶Ù…ÙˆÙ†Ø©.</p>
  <a href="booking.html" class="cta">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</a>
</section>

<section class="info">
  <div>
    <h3>ğŸ“ Ù†Ø®Ø¯Ù…</h3>
    <p>Ø§Ù„Ù…Ù†Ø§Ø²Ù„ â€“ Ø§Ù„Ù…Ø­Ù„Ø§Øª â€“ Ø§Ù„Ù…ÙƒØ§ØªØ¨ â€“ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ©</p>
  </div>
  <div>
    <h3>ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
    <p>
      Ø§Ù„Ù‡Ø§ØªÙ: <a href="tel:+21624598941">+216 24 598 941</a><br>
      Ø§Ù„Ù‡Ø§ØªÙ: <a href="tel:+21651084442">+216 51 084 442</a><br>
      ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/21621477790" target="_blank">+216 21 477 790</a>
    </p>
  </div>
</section>

<section class="rating-box">
  <h3>Ù‚ÙŠÙ‘Ù… Ø®Ø¯Ù…ØªÙ†Ø§</h3>
  <div class="stars">
    <span data-value="1">â­</span>
    <span data-value="2">â­</span>
    <span data-value="3">â­</span>
    <span data-value="4">â­</span>
    <span data-value="5">â­</span>
  </div>
  <form id="rating-form">
    <input type="text" id="user-name" placeholder="Ø§Ù„Ø§Ø³Ù…">
    <input type="email" id="user-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <button type="button" id="submit-rating">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
  </form>
  <p id="rating-msg"></p>
</section>

</main>

<nav class="bottom-bar">
  <a href="index.html" class="active">ğŸ <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
  <a href="booking.html">ğŸ“…<span>Ø­Ø¬Ø²</span></a>
  <a href="login.html">ğŸ”’<span>Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</span></a>
</nav>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAJxzFknapSh0fnPfIXwEEK3OijSKlqxco",
  authDomain: "admin-ash-f622c.firebaseapp.com",
  databaseURL: "https://admin-ash-f622c-default-rtdb.firebaseio.com/",
  projectId: "admin-ash-f622c",
  storageBucket: "admin-ash-f622c.appspot.com",
  messagingSenderId: "76505742154",
  appId: "1:76505742154:web:dc4f190f9f2de80acb1fb3"
};
firebase.initializeApp(firebaseConfig);

// ===== ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù†Ø¬ÙˆÙ… =====
const starsEl = document.querySelector(".stars");
const ratingForm = document.getElementById("rating-form");
const msgEl = document.getElementById("rating-msg");
let selectedRating = 0;

starsEl.querySelectorAll("span").forEach(star => {
  star.addEventListener("click", () => {
    selectedRating = parseInt(star.dataset.value);
    starsEl.querySelectorAll("span").forEach(s => s.classList.remove("active"));
    for(let i=0;i<selectedRating;i++){ starsEl.querySelectorAll("span")[i].classList.add("active"); }
    ratingForm.style.display = "block";
  });
});

// ===== Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… =====
document.getElementById('submit-rating').addEventListener('click', () => {
  const name = document.getElementById('user-name').value.trim();
  const email = document.getElementById('user-email').value.trim();
  if (!name || !email || !selectedRating) {
    msgEl.textContent = "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…";
    return;
  }

  const ratingData = {
    name,
    email,
    rating: selectedRating,
    timestamp: Date.now()
  };

  firebase.database().ref('ratings').push(ratingData)
    .then(() => {
      msgEl.textContent = "Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ!";
      document.getElementById('user-name').value = '';
      document.getElementById('user-email').value = '';
      selectedRating = 0;
      starsEl.querySelectorAll('span').forEach(s => s.classList.remove('active'));
      ratingForm.style.display = 'none';
    })
    .catch(err => {
      msgEl.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
      console.error(err);
    });
});
</script>

</body>
</html>
