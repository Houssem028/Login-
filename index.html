<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ASH Window Cleaning</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f7fa; color:#333; }
header { background:#0a5cff; color:white; text-align:center; padding:20px; }
header h1 { margin:0; font-size:28px; }
main { padding:20px; max-width:900px; margin:auto; }
.hero { background:#fff; padding:30px; border-radius:12px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.08); margin-bottom:20px; }
.hero a { display:inline-block; background:#0a5cff; color:white; padding:14px 25px; border-radius:8px; text-decoration:none; transition:0.3s; }
.hero a:hover { background:#084dcc; }
.rating-box { background:#fff; padding:20px; border-radius:12px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.08); max-width:400px; margin:20px auto; }
.stars span { font-size:30px; cursor:pointer; transition:0.2s; }
.stars span:hover, .stars span.active { color: gold; }
input { width:100%; padding:10px; margin-top:10px; border-radius:8px; border:1px solid #ccc; }
button { margin-top:10px; padding:12px; width:100%; border:none; border-radius:8px; background:#0a5cff; color:white; cursor:pointer; transition:0.3s; }
button:hover { background:#084dcc; }
.bottom-bar { position:fixed; bottom:0; left:0; right:0; background:white; border-top:1px solid #ccc; display:flex; justify-content:space-around; padding:8px 0; z-index:999; }
.bottom-bar a { text-decoration:none; color:#555; font-size:12px; display:flex; flex-direction:column; align-items:center; }
.bottom-bar a.active { color:#0a5cff; font-weight:bold; }
</style>
</head>

<body>

<header>
  <h1>ASH Window Cleaning</h1>
</header>

<main>

  <section class="hero">
    <h2>Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h2>
    <p>Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ù„Ù„Ù…Ù†Ø§Ø²Ù„ØŒ Ø§Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø­Ø¯ÙŠØ«Ø© ÙˆÙ†ØªØ§Ø¦Ø¬ Ù…Ø¶Ù…ÙˆÙ†Ø©.</p>
    <a href="#booking">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</a>
  </section>

  <div class="rating-box">
    <h3>Ù‚ÙŠÙ… Ø®Ø¯Ù…ØªÙ†Ø§</h3>
    <div class="stars" id="stars">
      <span data-value="1">â­</span>
      <span data-value="2">â­</span>
      <span data-value="3">â­</span>
      <span data-value="4">â­</span>
      <span data-value="5">â­</span>
    </div>
    <div id="rating-form" style="display:none; margin-top:10px;">
      <input type="text" id="user-name" placeholder="Ø§Ù„Ø§Ø³Ù…">
      <input type="email" id="user-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
      <button id="submit-rating">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
      <p id="msg" style="color:green;"></p>
    </div>
  </div>

</main>

<nav class="bottom-bar">
  <a href="#" class="active">ğŸ <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></a>
  <a href="#booking">ğŸ“…<span>Ø­Ø¬Ø²</span></a>
  <a href="#contact">ğŸ“<span>ØªÙˆØ§ØµÙ„</span></a>
</nav>

<script>
// Firebase
const firebaseConfig = {
  apiKey: "AIzaSyAJxzFknapSh0fnPfIXwEEK3OijSKlqxco",
  authDomain: "admin-ash-f622c.firebaseapp.com",
  projectId: "admin-ash-f622c",
  storageBucket: "admin-ash-f622c.appspot.com",
  messagingSenderId: "76505742154",
  appId: "1:76505742154:web:dc4f190f9de80acb1fb3",
  measurementId: "G-MNPL104YPN"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù†Ø¬ÙˆÙ…
let selectedRating = 0;
const stars = document.querySelectorAll("#stars span");
stars.forEach(s => {
  s.addEventListener("mouseover", ()=>{ highlightStars(s.dataset.value); });
  s.addEventListener("mouseout", ()=>{ highlightStars(selectedRating); });
  s.addEventListener("click", ()=>{
    selectedRating = Number(s.dataset.value);
    highlightStars(selectedRating);
    document.getElementById("rating-form").style.display = "block";
  });
});

function highlightStars(rating){
  stars.forEach(s=>{
    s.classList.remove("active");
    if(s.dataset.value <= rating) s.classList.add("active");
  });
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
document.getElementById("submit-rating").addEventListener("click", ()=>{
  const name = document.getElementById("user-name").value.trim();
  const email = document.getElementById("user-email").value.trim();
  if(!name || !email || selectedRating===0) { alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"); return; }

  db.collection("ratings").add({
    name, email, rating: selectedRating, timestamp: Date.now()
  }).then(()=>{
    document.getElementById("msg").textContent = "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­ âœ…";
    document.getElementById("rating-form").reset;
    selectedRating = 0;
    highlightStars(0);
    setTimeout(()=>{ document.getElementById("rating-form").style.display="none"; document.getElementById("msg").textContent=""; },3000);
  }).catch(err=>{
    alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: "+err);
  });
});
</script>

</body>
</html>
