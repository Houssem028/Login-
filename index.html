<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ASH Window Cleaning</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f7fa; color:#333; }
header { background:#0a5cff; color:white; text-align:center; padding:20px; }
header h1 { margin:0; font-size:28px; }
main { max-width:900px; margin:20px auto; padding:20px; }
.hero { background:white; padding:30px; border-radius:10px; text-align:center; box-shadow:0 4px 10px rgba(0,0,0,0.08); }
.hero h2 { font-size:26px; margin-bottom:15px; }
.hero p { font-size:16px; line-height:1.6; margin-bottom:25px; }
.hero a { background:#0a5cff; color:white; padding:14px 25px; border-radius:8px; text-decoration:none; font-size:16px; }
.hero a:hover { background:#084dcc; }
.info { margin-top:40px; display:grid; gap:20px; }
.info div { background:white; padding:20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.06); }
.info h3 { margin-bottom:10px; }
#rating-section { background:white; padding:20px; border-radius:10px; margin-top:30px; box-shadow:0 4px 10px rgba(0,0,0,0.08); }
.stars span { font-size:24px; cursor:pointer; color:#000; }
#name-email { display:none; margin-top:15px; }
input { width:100%; padding:10px; margin:5px 0; border-radius:6px; border:1px solid #ccc; }
button { background:#0a5cff; color:white; padding:12px; border:none; border-radius:8px; cursor:pointer; margin-top:10px; width:100%; }
button:hover { background:#084dcc; }
#msg { text-align:center; margin-top:10px; font-weight:bold; color:#1f2933; }
</style>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

</head>
<body>

<header>
<h1>ASH Window Cleaning</h1>
</header>

<main>

<section class="hero">
  <h2>Ù†Ø¸Ø§ÙØ© Ø§Ù„Ø²Ø¬Ø§Ø¬ Ø¨Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ«Ù‚Ø©</h2>
  <p>Ù†Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†ÙˆØ§ÙØ° ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ù„Ù„Ù…Ù†Ø§Ø²Ù„ØŒ Ø§Ù„Ù…Ø­Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø­Ø¯ÙŠØ«Ø© ÙˆÙ†ØªØ§Ø¦Ø¬ Ù…Ø¶Ù…ÙˆÙ†Ø©.</p>
  <a href="booking.html">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</a>
</section>

<section class="info">
  <div>
    <h3>ğŸ“ Ù†Ø®Ø¯Ù…</h3>
    <p>Ø§Ù„Ù…Ù†Ø§Ø²Ù„ â€“ Ø§Ù„Ù…Ø­Ù„Ø§Øª â€“ Ø§Ù„Ù…ÙƒØ§ØªØ¨ â€“ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ©</p>
  </div>

  <div>
    <h3>ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
    <p>
      <a href="tel:+21624598941">+216 24 598 941</a><br>
      <a href="tel:+21651084442">+216 51 084 442</a><br>
      <a href="https://wa.me/21621477790">ÙˆØ§ØªØ³Ø§Ø¨: +216 21 477 790</a>
    </p>
  </div>
</section>

<section id="rating-section">
  <h3>Ù‚ÙŠÙ‘Ù… Ø®Ø¯Ù…ØªÙ†Ø§</h3>
  <div class="stars">
    <span data-value="1">â­</span>
    <span data-value="2">â­</span>
    <span data-value="3">â­</span>
    <span data-value="4">â­</span>
    <span data-value="5">â­</span>
  </div>

  <div id="name-email">
    <input type="text" id="user-name" placeholder="Ø§Ù„Ø§Ø³Ù…">
    <input type="email" id="user-email" placeholder="Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„">
    <button id="submit-rating">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
  </div>

  <p id="msg"></p>
</section>

</main>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAJxzFknapSh0fnPfIXwEEK3OijSKlqxco",
  authDomain: "admin-ash-f622c.firebaseapp.com",
  projectId: "admin-ash-f622c",
  storageBucket: "admin-ash-f622c.appspot.com",
  messagingSenderId: "76505742154",
  appId: "1:76505742154:web:dc4f190f9f2de80acb1fb3"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// ===== Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ =====
let selectedRating = 0;
const stars = document.querySelectorAll('.stars span');
const nameEmailContainer = document.getElementById('name-email');

stars.forEach(star => {
  star.addEventListener('click', () => {
    selectedRating = star.dataset.value;
    stars.forEach(s => s.style.color = "#000");
    for(let i=0;i<selectedRating;i++){ stars[i].style.color="#FFD700"; }
    nameEmailContainer.style.display = "block";
  });
});

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
document.getElementById("submit-rating").addEventListener("click", () => {
  const name = document.getElementById("user-name").value.trim();
  const email = document.getElementById("user-email").value.trim();
  if(selectedRating === 0 || !name || !email){
    alert("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙˆÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¥ÙŠÙ…ÙŠÙ„");
    return;
  }

  const ratingData = {
    name,
    email,
    rating: Number(selectedRating),
    timestamp: Date.now()
  };

  db.collection("ratings").add(ratingData)
    .then(() => {
      document.getElementById("msg").textContent = "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­ âœ…";
      selectedRating = 0;
      stars.forEach(s => s.style.color = "#000");
      document.getElementById("user-name").value = "";
      document.getElementById("user-email").value = "";
      nameEmailContainer.style.display = "none";
    })
    .catch(err => alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: " + err));
});
</script>

</body>
</html>
